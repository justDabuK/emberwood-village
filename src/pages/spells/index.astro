---
import BaseLayout from "../../layouts/BaseLayout.astro";
import { MarkdownInstance } from "astro";
import SpellListItem from "../../components/SpellListItem.astro";

const byTitle = (
  a: MarkdownInstance<Record<string, unknown>>,
  b: MarkdownInstance<Record<string, unknown>>,
): number => {
  if (a.frontmatter.title < b.frontmatter.title) {
    return -1;
  } else if (a.frontmatter.title > b.frontmatter.title) {
    return 1;
  } else {
    return 0;
  }
};

const allSpells = (await Astro.glob("/src/pages/spells/*.md")).sort(byTitle);
---

<BaseLayout title="Spells">
  <a href="/spells/levels">
    <div>Sort by Level</div>
  </a>
  <ul>
    {allSpells.map((spell) => <SpellListItem spell={spell} />)}
  </ul>
</BaseLayout>
