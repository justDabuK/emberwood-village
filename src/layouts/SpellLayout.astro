---
import BaseLayout from "./BaseLayout.astro";
import {getSpellSchoolIconName} from "../scripts/getSpellSchoolIconName";
import InlineIcon from "../components/InlineIcon.astro";

type Props = {
    frontmatter: {
        title: string;
        ritual?: boolean;
        level: number;
        school: string;
        castingTime: string;
        range: string;
        components: string;
        duration: string;
    };
};

const { frontmatter } = Astro.props;

const getLevelString = () => {
    switch (frontmatter.level) {
        case 0:
            return "Cantrip";
        case 1:
            return "1st level";
        case 2:
            return "2nd level";
        case 3:
            return "3rd level";
        default:
            return `${frontmatter.level}th level`;
    }
};
---
<BaseLayout title={frontmatter.title} icon={getSpellSchoolIconName(frontmatter.school)}>
    {frontmatter.ritual ? <InlineIcon icon="pentagram.svg" size="2rem" slot="headline-postfix"/> :null}
    <p><em>{getLevelString()}</em><em>{frontmatter.school}</em></p>
    <p><strong>Casting Time:</strong> {frontmatter.castingTime}</p>
    <p><strong>Range:</strong> {frontmatter.range}</p>
    <p><strong>Components:</strong> {frontmatter.components}</p>
    <p><strong>Duration:</strong> {frontmatter.duration}</p>
    <slot />
</BaseLayout>